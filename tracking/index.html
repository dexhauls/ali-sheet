<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dex Finds Tracking</title>
    <link rel="icon" href="../icon.png" type="image/png">
    <meta name="description" content="Track your orders from Taobao, Weidian and 1688 with our easy-to-use tracking system. Get real-time updates on your package status and estimated delivery date.">
    <meta name="keywords" content="dex hauls tracking, taobao tracking, weidian tracking, 1688 tracking, chinese marketplace, package status, shipping information">
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Helvetica LT Std Bold font -->
    <link href="https://db.onlinewebfonts.com/c/52fc208e73504d98d1c9c520e3fc22a5?family=HelveticaLTStd-Bold" rel="stylesheet">
    <!-- Helvetica LT Std Regular font -->
    <link href="https://db.onlinewebfonts.com/c/30b27b12d670f296957a27296c5bcbc7?family=HelveticaLTStd" rel="stylesheet">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Dex Hauls Order Tracking - Track Your Chinese Marketplace Packages">
    <meta property="og:description" content="Track your orders from Taobao, Weidian and 1688 with our easy-to-use tracking system. Get real-time updates on your package status.">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:title" content="Dex Hauls Order Tracking - Track Your Chinese Marketplace Packages">
    <meta property="twitter:description" content="Track your orders from Taobao, Weidian and 1688 with our easy-to-use tracking system. Get real-time updates on your package status.">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Dex Hauls Order Tracking",
      "description": "Track your orders from Chinese marketplaces Taobao, Weidian and 1688 with our easy-to-use tracking system",
      "breadcrumb": {
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://dexhauls.com"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Order Tracking",
            "item": "https://dexhauls.com/tracking/"
          }
        ]
      }
    }
    </script>
    <style>
        /* Tracking page styles */
        .tracking-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .tracking-title {
            font-family: 'HelveticaLTStd-Bold', 'Helvetica', sans-serif;
            font-size: 2.5rem;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .tracking-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 600px;
            margin: 0 auto 40px;
        }
        
        .tracking-form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .tracking-label {
            font-family: 'HelveticaLTStd-Bold', 'Helvetica', sans-serif;
            font-size: 1rem;
        }
        
        .tracking-input {
            width: 100%;
            padding: 12px 15px;
            background-color: #000;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            font-size: 1rem;
            font-family: 'HelveticaLTStd', 'Helvetica', sans-serif;
            outline: none;
            transition: border-color 0.2s;
        }
        
        .tracking-input:focus {
            border-color: rgba(255, 255, 255, 0.4);
        }
        
        .tracking-button {
            padding: 12px 20px;
            background-color: #fff;
            color: #000;
            border: none;
            font-family: 'HelveticaLTStd', 'Helvetica', sans-serif;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 10px;
            text-transform: uppercase;
            font-weight: normal;
        }
        
        .tracking-button:hover {
            background-color: #ddd;
        }
        
        .tracking-info {
            margin-top: 40px;
            border-top: 1px solid #333;
            padding-top: 30px;
        }
        
        .tracking-info p {
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .tracking-info ul {
            margin-bottom: 20px;
            padding-left: 20px;
        }
        
        .tracking-info li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        .back-to-home {
            display: inline-block;
            margin-top: 40px;
            color: #fff;
            text-decoration: none;
            font-family: 'HelveticaLTStd-Bold', 'Helvetica', sans-serif;
            border: 1px solid #fff;
            padding: 10px 20px;
            transition: all 0.2s ease;
        }
        
        .back-to-home:hover {
            background-color: rgba(255,255,255,0.1);
        }
        
        /* Tracking popup styles */
        .tracking-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            backdrop-filter: blur(5px);
        }
        
        .tracking-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .tracking-popup {
            width: 90%;
            max-width: 800px;
            max-height: 85vh;
            overflow-y: auto;
            background-color: #111;
            border: 1px solid #333;
            border-radius: 0;
            padding: 30px;
            position: relative;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
        }
        
        .tracking-popup-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            color: #666;
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        
        .tracking-popup-close:hover {
            color: #fff;
        }
        
        .tracking-popup-header {
            display: flex;
            flex-direction: column;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #333;
        }
        
        .tracking-popup-title {
            font-family: 'HelveticaLTStd-Bold', 'Helvetica', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }
        
        .tracking-number {
            font-family: 'HelveticaLTStd', 'Helvetica', sans-serif;
            font-size: 1rem;
            color: #999;
            margin-bottom: 20px;
        }
        
        .tracking-status {
            display: inline-block;
            padding: 6px 10px;
            font-family: 'HelveticaLTStd-Bold', 'Helvetica', sans-serif;
            font-size: 0.8rem;
            text-transform: uppercase;
            border-radius: 2px;
            margin-right: 10px;
        }
        
        .tracking-status.delivered {
            background-color: #196530;
            color: #fff;
        }
        
        .tracking-status.in-transit {
            background-color: #3a5998;
            color: #fff;
        }
        
        .tracking-status.processing {
            background-color: #8c6b46;
            color: #fff;
        }
        
        .tracking-status.unknown {
            background-color: #666;
            color: #fff;
        }
        
        .tracking-details {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .tracking-detail-item {
            flex: 1 1 160px;
            max-width: 180px;
        }
        
        .tracking-detail-label {
            font-family: 'HelveticaLTStd', 'Helvetica', sans-serif;
            font-size: 0.75rem;
            color: #999;
            margin-bottom: 5px;
        }
        
        .tracking-detail-value {
            font-family: 'HelveticaLTStd-Bold', 'Helvetica', sans-serif;
            font-size: 0.95rem;
        }
        
        .tracking-timeline {
            position: relative;
            padding-left: 30px;
            margin-top: 40px;
        }
        
        .tracking-timeline:before {
            content: '';
            position: absolute;
            top: 10px;
            bottom: 0;
            left: 8px;
            width: 2px;
            background-color: #333;
        }
        
        .timeline-event {
            position: relative;
            padding-bottom: 30px;
        }
        
        .timeline-event:last-child {
            padding-bottom: 0;
        }
        
        .timeline-event:before {
            content: '';
            position: absolute;
            top: 6px;
            left: -22px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #333;
            z-index: 1;
        }
        
        .timeline-event.active:before {
            background-color: #fff;
        }
        
        .timeline-date {
            font-family: 'HelveticaLTStd-Bold', 'Helvetica', sans-serif;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .timeline-time {
            font-family: 'HelveticaLTStd', 'Helvetica', sans-serif;
            font-size: 0.8rem;
            color: #999;
            margin-bottom: 5px;
        }
        
        .timeline-location {
            font-family: 'HelveticaLTStd', 'Helvetica', sans-serif;
            font-size: 0.9rem;
            color: #ccc;
            margin-bottom: 5px;
        }
        
        .timeline-description {
            font-family: 'HelveticaLTStd', 'Helvetica', sans-serif;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loading-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2001;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .loading-container.active {
            visibility: visible;
            opacity: 1;
        }
        
        .error-message {
            color: #f44336;
            font-family: 'HelveticaLTStd', 'Helvetica', sans-serif;
            margin-top: 10px;
            display: none;
        }
        
        @media (max-width: 768px) {
            .tracking-container {
                padding: 30px 15px;
            }
            
            .tracking-title {
                font-size: 2rem;
                margin-bottom: 30px;
            }
            
            .tracking-popup {
                padding: 20px;
                width: 95%;
            }
            
            .tracking-details {
                flex-direction: column;
                gap: 15px;
            }
            
            .tracking-detail-item {
                max-width: none;
            }
        }
    </style>
</head>
<body>
    <header>
        <button class="menu-toggle" aria-label="Toggle menu">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                <rect y="7" width="30" height="3" fill="white"/>
                <rect y="14" width="30" height="3" fill="white"/>
                <rect y="21" width="30" height="3" fill="white"/>
            </svg>
        </button>
        <div class="logo">
            <h1><a href="../index.html" style="color: inherit; text-decoration: none; min-width: 180px; display: inline-block;">DEX FINDS</a></h1>
        </div>
        <div class="top-right">
            <div class="dropdown-container">
                <button class="currency-btn">
                    <span class="currency-symbol">€</span>
                    <span class="currency-text">EUR</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dropdown-icon">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>
                <div class="dropdown-menu currency-menu">
                    <div class="dropdown-item" data-currency="EUR" data-symbol="€">EUR</div>
                    <div class="dropdown-item" data-currency="USD" data-symbol="$">USD</div>
                    <div class="dropdown-item" data-currency="CZK" data-symbol="Kč">CZK</div>
                </div>
            </div>
        </div>
    </header>

    <div class="tracking-container">
        <h1 class="tracking-title">Track Your Order</h1>
        
        <form class="tracking-form" id="tracking-form">
            <div class="tracking-form-group">
                <label for="tracking-number" class="tracking-label">Enter your tracking number:</label>
                <input type="text" id="tracking-number" class="tracking-input" placeholder="Tracking number" required>
            </div>
            
            <button type="submit" class="tracking-button">Track Package</button>
            <div class="error-message" id="error-message"></div>
        </form>
        
        <div class="tracking-info">
            <h2>Shipping Information</h2>
            <p>We provide tracking information for all major shipping carriers. Standard delivery typically takes:</p>
            <ul>
                <li>Europe: 8-18 business days</li>
                <li>North America: 12-20 business days</li>
                <li>Rest of the world: 14-30 business days</li>
            </ul>
            
            <p>For any shipping inquiries, please join our <a href="https://discord.gg/dexhauls">Discord</a> server.</p>
        </div>
        
        <a href="../index.html" class="back-to-home">Back to Home</a>
    </div>
    
    <footer class="footer-credits">
        Website owned by <strong>@dex_hauls</strong> (Discord) | Contact: <a href="mailto:dexhauls@icloud.com">dexhauls@icloud.com</a> | Designed by ownage.tech</a>
    </footer>
    
    <!-- Back to top button -->
    <button class="back-to-top" aria-label="Back to top">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
            <path d="M18 15l-6-6-6 6" />
        </svg>
    </button>
    
    <!-- Loading Spinner -->
    <div class="loading-container" id="loading-container">
        <div class="loading-spinner"></div>
    </div>
    
    <!-- Tracking Result Popup -->
    <div class="tracking-overlay" id="tracking-overlay">
        <div class="tracking-popup">
            <button class="tracking-popup-close" id="popup-close">&times;</button>
            <div id="tracking-result">
                <!-- Content will be populated dynamically -->
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize back-to-top button
            initBackToTopButton();
            
            // Mobile menu toggle functionality
            const menuToggle = document.querySelector('.menu-toggle');
            if (menuToggle) {
                // Create overlay element
                const overlay = document.createElement('div');
                overlay.className = 'menu-overlay';
                document.body.appendChild(overlay);
                
                // Toggle menu when hamburger icon is clicked
                menuToggle.addEventListener('click', () => {
                    document.body.classList.toggle('menu-open');
                    overlay.classList.toggle('active');
                    // Redirect to main page with menu open indicator
                    window.location.href = '../index.html?menu=open';
                });
            }
            
            // Tracking form submit
            const trackingForm = document.getElementById('tracking-form');
            const errorMessage = document.getElementById('error-message');
            const loadingContainer = document.getElementById('loading-container');
            const trackingOverlay = document.getElementById('tracking-overlay');
            const trackingResult = document.getElementById('tracking-result');
            const popupClose = document.getElementById('popup-close');
            
            trackingForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const trackingNumber = document.getElementById('tracking-number').value.trim();
                if (!trackingNumber) {
                    showError('Please enter a valid tracking number');
                    return;
                }
                
                // Show loading spinner
                loadingContainer.classList.add('active');
                
                // Fetch tracking information
                fetchTrackingInfo(trackingNumber);
            });
            
            // Close popup
            popupClose.addEventListener('click', function() {
                trackingOverlay.classList.remove('active');
            });
            
            // Function to show error
            function showError(message) {
                errorMessage.textContent = message;
                errorMessage.style.display = 'block';
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 5000);
            }
            
            // Function to fetch tracking info
            function fetchTrackingInfo(trackingNumber) {
                const apiUrl = `https://api.repsheet.net/track?${trackingNumber}`;
                
                fetch(apiUrl)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => {
                        // Hide loading spinner
                        loadingContainer.classList.remove('active');
                        
                        if (data.code === 200) {
                            // Display tracking info
                            displayTrackingInfo(data.data, trackingNumber);
                        } else {
                            showError(data.msg || 'Failed to retrieve tracking information');
                        }
                    })
                    .catch(error => {
                        // Hide loading spinner
                        loadingContainer.classList.remove('active');
                        showError('Failed to retrieve tracking information. Please try again later.');
                        console.error('Tracking error:', error);
                    });
            }
            
            // Function to display tracking info
            function displayTrackingInfo(data, trackingNumber) {
                let statusClass = 'unknown';
                let statusText = 'Processing';
                
                if (data.status === 'Delivered') {
                    statusClass = 'delivered';
                    statusText = 'Delivered';
                } else if (data.days_of_transit > 0) {
                    statusClass = 'in-transit';
                    statusText = 'In Transit';
                } else if (data.days_after_order > 0) {
                    statusClass = 'processing';
                    statusText = 'Processing';
                }
                
                // Format date
                function formatDate(timestamp) {
                    if (!timestamp) return 'N/A';
                    
                    const date = new Date(parseInt(timestamp) * 1000);
                    return date.toLocaleString('en-US', {
                        year: 'numeric',
                        month: 'short',
                        day: 'numeric'
                    });
                }
                
                // Format time
                function formatTime(timestamp) {
                    if (!timestamp) return '';
                    
                    const date = new Date(parseInt(timestamp) * 1000);
                    return date.toLocaleString('en-US', {
                        hour: '2-digit',
                        minute: '2-digit',
                        hour12: true
                    });
                }
                
                // Get tracking events
                const events = data.track_docking || [];
                
                // Build the HTML content for the popup
                let html = `
                    <div class="tracking-popup-header">
                        <h2 class="tracking-popup-title">Package Tracking</h2>
                        <div class="tracking-number">Tracking Number: ${trackingNumber}</div>
                        <div>
                            <span class="tracking-status ${statusClass}">${statusText}</span>
                        </div>
                    </div>
                    
                    <div class="tracking-details">
                        <div class="tracking-detail-item">
                            <div class="tracking-detail-label">Destination</div>
                            <div class="tracking-detail-value">${data.consignee_country || 'N/A'}</div>
                        </div>
                        <div class="tracking-detail-item">
                            <div class="tracking-detail-label">Days in Transit</div>
                            <div class="tracking-detail-value">${data.days_of_transit || '0'}</div>
                        </div>
                        <div class="tracking-detail-item">
                            <div class="tracking-detail-label">Last Updated</div>
                            <div class="tracking-detail-value">${formatDate(data.verify_date_time_stamp)}</div>
                        </div>
                        <div class="tracking-detail-item">
                            <div class="tracking-detail-label">Ordered</div>
                            <div class="tracking-detail-value">${data.days_after_order ? formatDate(data.verify_date_time_stamp - (data.days_after_order * 86400)) : 'N/A'}</div>
                        </div>
                    </div>
                `;
                
                // Add timeline if there are events
                if (events.length > 0) {
                    html += `<h3>Tracking History</h3>
                    <div class="tracking-timeline">`;
                    
                    events.forEach((event, index) => {
                        if (!event.description && !event.location) return;
                        
                        const isLatest = index === 0;
                        const eventDate = event.time ? event.time.split(' ')[0] : '';
                        const eventTime = event.time ? event.time.split(' ')[1] : '';
                        
                        html += `
                            <div class="timeline-event ${isLatest ? 'active' : ''}">
                                <div class="timeline-date">${eventDate || formatDate(event.time_stamp)}</div>
                                <div class="timeline-time">${eventTime || formatTime(event.time_stamp)}</div>
                                ${event.location ? `<div class="timeline-location">${event.location}</div>` : ''}
                                ${event.description ? `<div class="timeline-description">${event.description}</div>` : ''}
                            </div>
                        `;
                    });
                    
                    html += `</div>`;
                } else {
                    html += `<p>No tracking details available yet. Please check back later.</p>`;
                }
                
                // Update the popup content
                trackingResult.innerHTML = html;
                
                // Show the popup
                trackingOverlay.classList.add('active');
            }
            
            // Currency selector functionality
            const currencyBtns = document.querySelectorAll('.currency-btn');
            currencyBtns.forEach(button => {
                button.addEventListener('click', function() {
                    const dropdown = this.closest('.dropdown-container').querySelector('.dropdown-menu');
                    dropdown.classList.toggle('active');
                });
            });
            
            document.querySelectorAll('.currency-menu .dropdown-item').forEach(item => {
                item.addEventListener('click', function() {
                    const currency = this.getAttribute('data-currency');
                    const symbol = this.getAttribute('data-symbol');
                    
                    // Update UI
                    document.querySelector('.currency-symbol').textContent = symbol;
                    document.querySelector('.currency-text').textContent = currency;
                    
                    // Close dropdown
                    document.querySelector('.currency-menu').classList.remove('active');
                    
                    // Store in localStorage
                    localStorage.setItem('currency', currency);
                    localStorage.setItem('currencySymbol', symbol);
                });
            });
            
            // Initialize currency from localStorage
            const storedCurrency = localStorage.getItem('currency') || 'EUR';
            const storedSymbol = localStorage.getItem('currencySymbol') || '€';
            
            document.querySelector('.currency-symbol').textContent = storedSymbol;
            document.querySelector('.currency-text').textContent = storedCurrency;
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', function(event) {
                if (!event.target.closest('.dropdown-container')) {
                    document.querySelectorAll('.dropdown-menu').forEach(menu => {
                        menu.classList.remove('active');
                    });
                }
            });
            
            // Close popup when clicking outside
            document.addEventListener('click', function(event) {
                if (event.target === trackingOverlay) {
                    trackingOverlay.classList.remove('active');
                }
            });
        });
        
        // Initialize back-to-top button functionality
        function initBackToTopButton() {
            const backToTopButton = document.querySelector('.back-to-top');
            if (!backToTopButton) return;
            
            // Show button when scrolling down
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }
            });
            
            // Scroll to top when clicked
            backToTopButton.addEventListener('click', () => {
                // Smooth scroll to top
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
    </script>
</body>
</html> 